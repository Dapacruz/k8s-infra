{
  enabled: true,
  timezone: 'America/Los_Angeles',
  extends: [
    'config:best-practices',
    ':separateMultipleMajorReleases',
    ':separateMultipleMinorReleases',
  ],
  dependencyDashboard: true,
  dependencyDashboardTitle: 'Renovate Dashboard',
  dependencyDashboardAutoclose: false,
  kubernetes: {
    managerFilePatterns: [
      '/\\.yaml$/',
    ],
  },
  flux: {
    managerFilePatterns: [
      '/\\.yaml$/',
    ],
  },
  assignees: [
    '@Dapacruz',
  ],
  commitBody: 'Signed-off-by: Dapacruz',
  prConcurrentLimit: 20,
  suppressNotifications: ['prIgnoreNotification'],
  rebaseWhen: 'auto',
  automerge: true,
  automergeSchedule: ['* 1-4 * * *'],
  packageRules: [
    // Automerge anytime exception
    {
      matchDatasources: ['docker', 'helm'],
      matchPackageNames: [
        '/calibre/',
        '/radarr/',
        '/renovate/',
        '/sonarr/',
        '/sabnzbd/',
        '/tautulli/',
        '/unifi/',
        '/prowlarr/',
        '/cert-manager/',
        '/metrics-server/',
        '/kube-prometheus-stack/',
      ],
      automerge: true,
      automergeSchedule: ['* * * * *'],
      labels: ['automerge-anytime'],
    },

    // Disable automerge
    {
      matchDatasources: ['docker', 'helm'],
      matchPackageNames: [
        '/longhorn/',
        '/cilium/',
        '/vault/',
        '/csi-driver-smb/',
        '/traefik/',
      ],
      automerge: false,
      labels: ['automerge-disabled'],
    },

    // Disable automerge for major releases
    {
      matchUpdateTypes: ['major'],
      automerge: false,
      labels: ['automerge-disabled'],
    },

    // Helm general rule
    {
      matchDatasources: ['helm'],
      commitMessageTopic: 'Helm chart {{depName}}',
      enabled: true,
    },

    // Docker general rule
    {
      matchDatasources: ['docker'],
      commitMessageTopic: 'Docker image {{depName}}',
      commitMessageExtra: "to {{#if isPinDigest}}{{{newDigestShort}}}{{else}}{{#if isSingleVersion}}v{{{newVersion}}}{{else}}{{#if newValue}}{{{newValue}}}{{else}}{{{newDigestShort}}}{{/if}}{{/if}}{{/if}}",
      enabled: true,
    },

    // Docker label rules
    {
      matchDatasources: ['docker'],
      matchUpdateTypes: ['major'],
      labels: ['renovate/image-release', 'dependency/major']
    },
    {
      matchDatasources: ['docker'],
      matchUpdateTypes: ['minor'],
      labels: ['renovate/image-release', 'dependency/minor']
    },
    {
      matchDatasources: ['docker'],
      matchUpdateTypes: ['patch'],
      labels: ['renovate/image-release', 'dependency/patch']
    },

    // Helm label rules
    {
      matchDatasources: ['helm'],
      matchUpdateTypes: ['major'],
      labels: ['renovate/helm-release', 'dependency/major']
    },
    {
      matchDatasources: ['helm'],
      matchUpdateTypes: ['minor'],
      labels: ['renovate/helm-release', 'dependency/minor']
    },
    {
      matchDatasources: ['helm'],
      matchUpdateTypes: ['patch'],
      labels: ['renovate/helm-release', 'dependency/patch']
    },
  ],
}
